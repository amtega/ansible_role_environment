---
# Tasks for tesing role

- name: setup docker testing environment
  hosts: localhost
  roles:
    - docker_role_tester

- name: test environment role
  hosts: docker_role_tester_containers
  vars:
      environment_config:
        TEST_VARIABLE_1: "value 1"
        TEST_VARIABLE_2: "value 2"
  roles:
    - environment
  tags:
    - test-idempotence

- name: cleanup docker testing environment
  hosts: localhost
  roles:
    - role: docker_role_tester
      docker_role_tester_containers_state: absent
